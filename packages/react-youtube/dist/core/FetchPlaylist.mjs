import{a as i}from"../chunk-OXMXJPVY.mjs";var l=(r,a)=>i(void 0,null,function*(){let n=[];try{let o=yield(yield fetch(`https://youtube.googleapis.com/youtube/v3/playlistItems?part=contentDetails&playlistId=${r}&maxResults=50&key=${a}`)).json(),{items:e}=o;n=e.map(s=>({videoId:s.contentDetails.videoId,videoPublishedAt:s.contentDetails.videoPublishedAt}))}catch(t){return console.log(t),[]}let d=n.map(t=>i(void 0,null,function*(){let o=t.videoId;try{let s=yield(yield fetch(`https://www.googleapis.com/youtube/v3/videos?part=statistics&id=${o}&key=${a}`)).json(),{items:c}=s;return c[0]}catch(e){return console.log(e),null}}));return(yield Promise.all(d)).filter(t=>t!==null)}),g=l;export{g as default};
